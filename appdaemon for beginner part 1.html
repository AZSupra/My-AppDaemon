<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 10">
<meta name=Originator content="Microsoft Word 10">
<link rel=File-List
href="AppDaemon%20for%20beginner%20edited%20new_bestanden/filelist.xml">
<title>AppDaemon for beginner</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Chip Cox</o:Author>
  <o:LastAuthor>rene tode</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>49</o:TotalTime>
  <o:Created>2016-12-12T23:21:00Z</o:Created>
  <o:LastSaved>2016-12-12T23:21:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>2295</o:Words>
  <o:Characters>12628</o:Characters>
  <o:Company>Bayer</o:Company>
  <o:Lines>105</o:Lines>
  <o:Paragraphs>29</o:Paragraphs>
  <o:CharactersWithSpaces>14894</o:CharactersWithSpaces>
  <o:Version>10.6870</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:HyphenationZone>21</w:HyphenationZone>
  <w:PunctuationKerning/>
  <w:Compatibility>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
  </w:Compatibility>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-520077569 -1073717157 41 0 66047 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-536855809 -1073732485 9 0 511 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	line-height:115%;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:Calibri;
	mso-fareast-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	mso-ansi-language:EN-US;
	mso-fareast-language:EN-US;}
code
	{mso-style-noshow:yes;
	font-family:"Courier New";
	mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Times New Roman";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
span.grame
	{mso-style-name:grame;
	font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
span.s
	{mso-style-name:s;
	font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
span.pi
	{mso-style-name:pi;
	font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
span.s1
	{mso-style-name:s1;
	font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-noshow:yes;
	mso-style-link:Ballontekst;
	mso-ansi-font-size:8.0pt;
	mso-bidi-font-size:8.0pt;
	font-family:Tahoma;
	mso-ascii-font-family:Tahoma;
	mso-hansi-font-family:Tahoma;
	mso-bidi-font-family:Tahoma;}
@page Section1
	{size:612.0pt 792.0pt;
	margin:72.0pt 72.0pt 72.0pt 72.0pt;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:Standaardtabel;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:Calibri;
	mso-bidi-font-family:"Times New Roman";}
</style>
<![endif]-->
</head>

<body lang=NL style='tab-interval:36.0pt'>

<div class=Section1>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><b style='mso-bidi-font-weight:normal'><i style='mso-bidi-font-style:
normal'><span lang=EN-US style='font-size:24.0pt;font-family:"Times New Roman"'>AppDaemon
for beginner</span></i></b><span lang=EN-US style='font-size:12.0pt;font-family:
"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-size:20.0pt;font-family:"Times New Roman"'>Introduction</span></b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Any
automation you can think off in HomeAssistant can be done with AppDaemon.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>The
first question that could probably be asked is: &quot;Why use AppDaemon when it
is all possible in HomeAssistant itself?&quot;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>For
me the answer is: &quot;I have some experience in python (not all that much,
but some) and very little experience with yaml, jinja, json and all other
things that are used to configure Home Assistant.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>And
although things like yaml, jinja, etc. are not very hard to get to know, I
think they are not very easy to use to create slightly more complicated
automations and scripts.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>So
if you know your way around in yaml, jinja, etc. there is no actual need to
start using AppDaemon unless you run into some boundaries.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Now
you know why I use AppDaemon, so let’s start with some basic understanding.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-size:20.0pt;font-family:"Times New Roman"'>Our first App</span></b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Let
us first start with thinking about what an app actually is. In the &quot;old
days&quot; we had only programs, and then came apps. Apps are nothing more and
nothing less than a program.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>You
can have a program or app to write a document, to make a photo, to edit a
picture, and so on. Our apps in AppDaemon are nothing else. It is just a few
lines of code which lead to a chosen action.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>When
comparing apps to a part from HA, apps are the automations. But it is a bit
more than that. Maybe you would like to record every temperature change from 1
single sensor and log that into a file, or maybe you would like to make
calculations with all kinds of sensors and create another sensor with that
calculation.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>With
apps the sky is the limit. Do you like to have your sensor values in a
spreadsheet? It’s possible. Do you like to know the highest temperature
yesterday outside your door or in your living room? It’s possible.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Do
you like to record how much time your heating is on, so you can calculate how
much energy you used? It’s possible also. Like I said anything you can think of
can be achieved.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>So
let’s start now.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>I
guess you use Home Assistant or else there would be no need to read this. ;)
And you are probably making automations in Home assistant too (if not you
should start ;) )<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
HA (Home Assistant) your automation would look something like this:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>automation: </span><span lang=EN-US style='font-size:12.0pt;font-family:
"Courier New";background:yellow;mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>  </span>- alias: &quot; Turn on light
when input boolean is switched on and someone is home&quot;</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New";background:yellow;
mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>  </span>trigger:</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New";background:yellow;
mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>    </span>platform: state</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New";background:yellow;
mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>    </span>entity_id:
input_boolean.some_choice</span><span lang=EN-US style='font-size:12.0pt;
font-family:"Courier New";background:yellow;mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>    </span>state: 'on'</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New";background:yellow;
mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>  </span>condition:</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New";background:yellow;
mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>    </span>condition: state</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New";background:yellow;
mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>    </span>entity_id: device_tracker.some_mobile</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New";background:yellow;
mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>    </span>state: 'home'</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New";background:yellow;
mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>action:</span><span lang=EN-US style='font-size:12.0pt;font-family:
"Courier New";background:yellow;mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>    </span>service: light.turn_on</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New";background:yellow;
mso-highlight:yellow'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>    </span>entity_id: light.some_light</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>This
is an easy automation which makes the device labeled &quot;some_light&quot;
turn on when you switch on the input boolean named &quot;some_choice&quot;, but
only if the device &quot;some_mobile&quot; is home at the time.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>I
think you can’t get any more basic then that, do you?<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>So
let’s try to translate that to AppDaemon.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>import appdaemon.appapi as appapi</span><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>class your_class_name(appapi.AppDaemon):</span><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>  </span>def initialize(self):<span
style='mso-spacerun:yes'>  </span></span><span lang=EN-US style='font-size:
10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>    </span>self.listen_state(self.what_we_want_to_do,&quot;input_boolean.some_choice&quot;,
new=&quot;on&quot;)</span><span lang=EN-US style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>  </span>def what_we_want_to_do (self,
entity, attribute, old, new, kwargs):</span><span lang=EN-US style='font-size:
10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>   
</span>a_variabele_with_a_usable_name =
self.get_state(&quot;device_tracker.some_mobile&quot;)</span><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>    </span>if<span
style='mso-spacerun:yes'>  </span>a_variabele_with_a_usable_name ==
&quot;home&quot;:</span><span lang=EN-US style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>     
</span>self.turn_on(&quot;light.some_light&quot;)</span><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>That
is the whole app. Don’t get frightened by all the things you don’t know and
understand in this part. I will take all the time you need to explain every
line separately if you read on.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>And
I know you think that programming is difficult, but it actually isn’t. It is
like learning to speak in another language. If you go to another country and
they don’t speak your language you still want to order that beer, so you learn
how to do that.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>The
next parts are nothing more than learning to order a beer and maybe something
to eat also. When we can feed ourselves maybe we can also learn how to ask
direction, and before you know it you will be able to give someone directions
in that other language.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>And
before you think: &quot;learning languages is nothing for me, I am terrible at
that&quot;, let me tell you that languages were always my weakest part in high
school. Now I live in a different country and speak 3 languages. Not by
learning from a book, but by using it. <o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>And
you are probably going to make a whole lot of mistakes. Don’t think that’s not
normal. Everyone makes them all the time. The clue is to learn to recognize
your mistakes and to learn how to avoid them.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>But
enough now with the psychology, back to our app.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-size:20.0pt;font-family:"Times New Roman"'>General part:</span></b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>First
we start with some parts that are in all apps:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>import appdaemon.appapi as appapi</span><span lang=EN-US
style='font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:12.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>class your_class_name(appapi.AppDaemon):</span><span lang=EN-US
style='font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:12.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>  </span>def initialize(self):<span
style='mso-spacerun:yes'>  </span></span><span lang=EN-US style='font-size:
12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Times New Roman"'>&nbsp;</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>At
the start of any python script you start with importing some <span
style='background:blue;mso-highlight:blue'>libraries</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>That
is like when you want to start writing a document about a certain topic and you
start by collecting some books which might help you write about your topic. You
might want to use some parts from those books later on.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Of
course you only collect those books which are helpful with your topic. If you
collect some other books later on, while writing, you can put those by the
others.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
python it is the same. We won’t use any other libraries in this app, but maybe
later we use another one like <span style='background:blue;mso-highlight:blue'>datetime</span>
and then we would set &quot;import datetime&quot; beneath the other <span
style='background:blue;mso-highlight:blue'>import</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
the second line we start a <span style='background:blue;mso-highlight:blue'>class</span>.
And in this case I have given the class the name “your_class_name”. You can use
any name there that you like. The most important thing about naming things is
that it makes sense to you (and maybe later also for others).<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>After
that part, we find between the brackets, appapi.AppDaemon. In every class we
use in AppDaemon we use that. It would be too much to explain classes in
python, but you can search for &quot;python classes&quot; on Google if you
would like to learn more about it.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
the third line we create a <span style='background:blue;mso-highlight:blue'>function</span>.
I hear you think: &quot;what is a function?&quot;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
short a function is a tiny action from your app. let’s say you want to add 2
figures over and over. Then you could write a function called addup which
returns that value. You call it by writing &quot;addup(5,7)&quot;.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
programming we use functions every time we want something to be used over and
over. Sometimes our functions may be called from different places. All the
libraries you import contain functions that you can use.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>You
might want to talk about how functions are also used to help organize your code
and how apps may require functions with certain names so other programs know
how to interface with them. <span style='mso-spacerun:yes'> </span>But keep it
simple like you have been, it’s great so far.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>It
is like when you are writing that document and you put a link to a part from another
book and that part gets displayed to the user, without you writing that part
over and over.<span style='mso-spacerun:yes'>  </span>The well known functions
would be like a table of contents or an index.<span style='mso-spacerun:yes'> 
</span>They are parts of a book we expect to find.<span
style='mso-spacerun:yes'>  </span>Chapters are like functions that organize our
book even though they are referenced multiple times.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
this app alone we are going to make 2 functions (and use a lot more). The First
to start our app and the second which contains our action.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>All
functions start with a line like this: <span style='background:blue;mso-highlight:
blue'>def</span> any_name(some, <span style='background:blue;mso-highlight:
blue'>variables</span>, you, want, to, pass, to, the, function):<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>This
function (initialize) is a special one that we use in all apps.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Anything
you create in this function will be done at the moment you start your app.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>So
that part is easy. You can copy/paste those three lines and put them in the
beginning of all your apps and all you have to do is change the class name.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-size:20.0pt;font-family:"Times New Roman"'>The Trigger:</span></b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Now
we come to the part where things start to get interesting.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>self.listen_state(self.what_we_want_to_do,&quot;input_boolean.some_choice&quot;,
new=&quot;on&quot;)</span><span lang=EN-US style='font-size:12.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Times New Roman"'>&nbsp;</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Wait
a moment before you start copying this! Before you do that I have to tell you
that like in yaml it is also important to check out indentions. But it is not
as difficult as in yaml. If something belongs to something else ( a
function(def) belongs to a class, this statement belongs to the initialize
function) then you have to indent. Everything else with the same indention is
seen as grouped together. You can use any amount of white space that you like,
but for every next statement the same amount)<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>So
this comes beneath the initialize line with an indention.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Oh,
you also want to know what it means? O well, because it’s you.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>We
start with the <span style='background:blue;mso-highlight:blue'>self</span>
part. Well that's a little hard to explain but lets say, you need the self part
if you want something created in AppDaemon. The <span style='background:olive;
mso-highlight:olive'>listen_state</span> is a call to another function(def)
which is somewhere in AppDaemon. And because you have connected this class to
AppDaemon you can use &quot;self&quot; to call all functions created in
AppDaemon.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Yeah
you heard it right. Listen_state is a function. Like our initialize and many
more we are going to use. So between the brackets we find some variables.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>The
first variable that listen_state likes to have is the name from the function we
like to get executed when something happens.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
the API from AppDaemon this is called a callback.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Besides
setting what we want to be done, we need to set when we want it to be done.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>You
could listen to any kind of change in HA. A switch that is turned, a sensor
which changes value, a device that comes home.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
our example we wanted to listen to input_boolean.some_choice.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>You
can listen to any change from the entity if you don’t put anything behind it.
In that case the function &quot;self.what_we_want_to_do&quot; would be
triggered if you set the input Boolean to on, as well as when you set it to
off.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
this case we chose to give the setting that the function only gets called if
the &quot;new&quot; state is on.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>This
was the whole part from the trigger in yaml. You can set lots off triggers in
the same app pointing to the same function, or you can choose to make more apps
or use more functions.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>I
like to divide my triggers as much as possible in more apps.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-size:20.0pt;font-family:"Times New Roman"'>The Action:</span></b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
the trigger we already did choose a name for our action. Remember that we used
self.what_we_want_to_do?<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>So
now we make a function with that name.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>def what_we_want_to_do (self, entity, attribute, old, new, kwargs):</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Times New Roman";background:yellow;
mso-highlight:yellow'>&nbsp;</span><span lang=EN-US style='font-size:12.0pt;
font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>We
already talked about def and the name after that. So what comes behind?<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>First
there is that self again. It is there in all function (defs) we make, let’s say
that is to let python know that we want to have something in AppDaemon. And
your app is now part of AppDaemon.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Then
we see <span style='background:olive;mso-highlight:olive'>entity</span>, <span
style='background:olive;mso-highlight:olive'>attribute</span>, <span
style='background:olive;mso-highlight:olive'>old</span> and <span
style='background:olive;mso-highlight:olive'>new</span>. This are all parts
from the &quot;thing&quot; that we are listening to. In our case entity is the Boolean
we are listening to. Attribute is the attributes from the input Boolean (<span
style='background:olive;mso-highlight:olive'>friendly name</span> for
instance). Old is the previous state from our Boolean and new is the new state.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Off
course in our case we only pulled the trigger if new = &quot;on&quot; so we can
predict all the values from this variables ourselves.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>The
part between the brackets is just copy paste for all listen_state we use. In one
off the next parts I will show that there are one or two other ways according
to different situations.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>By
the way don’t forget the “:” !! It states the beginning from a block off
commands that will be indented the same way. So after the “:” everything that
has more indention than this line will be considered part of the function.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Slowly
we are getting there. We named our action, now let’s make some.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>self.turn_on(&quot;light.some_light&quot;)</span><span lang=EN-US
style='font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>That’s
all folks. The action is taken. So that means? Again self! Then a function. In
this case we will use the <span style='background:olive;mso-highlight:olive'>turn_on</span>
function. And all we need to do is tell that function what we want to turn on.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Our
great friend Andrew has made a lot off those easy functions like <span
style='background:olive;mso-highlight:olive'>turn_off, toggle</span> and many more.
I will use a few off them later on, but you can find them all in the API from
AppDaemon.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>I
guess we are ready to run our app.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><b style='mso-bidi-font-weight:normal'><span lang=EN-US
style='font-size:20.0pt;font-family:"Times New Roman"'>The condition.</span></b><span
lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>O
boy, I forgot I had that part in my yaml to. Ok, you don’t need conditions, but
I guess we want to use them anyway.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Let’s
go back to our yaml and find out what condition we had.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>We
wanted our light only to go on if some_mobile was home. For that we need two
things. <o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>1)
We need to know in what state our mobile is and<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>2)
We need to check if that state is the state we like.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>To
know what state any entity is, is easy. Andrew has made another function for
that: <span style='background:olive;mso-highlight:olive'>get_state</span>.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>If
you have paid attention you probably can write the next line yourself or at
least a part from it.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>a_variabele_with_a_usable_name =
self.get_state(&quot;device_tracker.some_mobile&quot;)</span><span lang=EN-US
style='font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Do
I really need to tell you about the part behind the = ???<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>I
guess not. It is just another function and we give it the variable which it
needs.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>What
else do we have? Just the name of a variable we want to store the returned from
the function, in. You can use any name there. Like in the function naming, make
it useful. If you start reading about programming you will probably find a lot
of examples from people and they use names like fo, foo, bar, etc. don’t use
things like that. Later on if you read back your code you want to know what
your variable is used for.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>So
that was part 1. Now part 2.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>We
are going to use a very common statement in any kind of programming. It can
differ how it’s written, but it does the same: <span style='background:blue;
mso-highlight:blue'>&quot;if ... then</span> ...&quot;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
python it goes like this:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>if<span style='mso-spacerun:yes'> 
</span>a_variabele_with_a_usable_name == &quot;home&quot;:</span><span
lang=EN-US style='font-size:12.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>That’s
all. We don’t need &quot;then&quot; at all. The “:” takes care of that. We put
the state from our device in the variable and now we compare that to what we
want it to be. If the statement is true the lines indented below it get done.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>So
let’s put it all together again:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>import appdaemon.appapi as appapi</span><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New"'><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'>class your_class_name(appapi.AppDaemon):</span><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>  </span>def initialize(self):<span
style='mso-spacerun:yes'>  </span></span><span lang=EN-US style='font-size:
10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>   
</span>self.listen_state(self.what_we_want_to_do,&quot;input_boolean.some_choice&quot;,
new=&quot;on&quot;)</span><span lang=EN-US style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:10.0pt;font-family:"Courier New"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>  </span>def what_we_want_to_do (self,
entity, attribute, old, new, kwargs):</span><span lang=EN-US style='font-size:
10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>   
</span>a_variabele_with_a_usable_name = self.get_state(&quot;device_tracker.some_mobile&quot;)</span><span
lang=EN-US style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>    </span>if<span
style='mso-spacerun:yes'>  </span>a_variabele_with_a_usable_name ==
&quot;home&quot;:</span><span lang=EN-US style='font-size:10.0pt;font-family:
"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New";background:yellow;mso-highlight:
yellow'><span style='mso-spacerun:yes'>     
</span>self.turn_on(&quot;light.some_light&quot;)</span><span lang=EN-US
style='font-size:10.0pt;font-family:"Courier New"'><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Our
app is ready to go. there is only 1 thing we need to do.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>We
need to tell AppDaemon to use the app. For that we copy our app in the
appdirectory we have set in the cfg file and we give it a name, lets say
some_app.py<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>Then
we make a part in the cfg file to tell AppDaemon to use the app like this:<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Times New Roman";background:silver;
mso-highlight:silver'>[our_automation_name]</span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman"'> any name you like.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Times New Roman";background:silver;
mso-highlight:silver'>module = some_app</span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman"'> that was the name we
used for our app<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:10.0pt;font-family:"Times New Roman";background:silver;
mso-highlight:silver'>class = your_class_name</span><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman"'> and this was the name
from our class<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-top:0cm;margin-right:0cm;margin-bottom:0cm;
margin-left:35.4pt;margin-bottom:.0001pt;line-height:normal'><span lang=EN-US
style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>That's
it. We made an app and we let AppDaemon use it. So go on! Make an input boolean
in HA and let it put 1 of your lights on, but only if your mobile is home.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>In
the next part we will make things a little more complicated.<o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US style='font-size:12.0pt;font-family:"Times New Roman"'>&nbsp;You
should also probably go through how to setup a debug environment and how to
debug your code.<span style='mso-spacerun:yes'>  </span>It wasn’t really
obvious, especially to people who may be coming from an IDE of some type.<a
name="_GoBack"></a><o:p></o:p></span></p>

<p class=MsoNormal style='margin-bottom:0cm;margin-bottom:.0001pt;line-height:
normal'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

</div>

</body>

</html>
